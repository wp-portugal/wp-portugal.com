!function(e){var t={};function r(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(i,a,function(t){return e[t]}.bind(null,a));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}({2:function(e,t){jQuery((function(e){e(".wp-job-manager-file-upload").each((function(){e(this).fileupload({dataType:"json",dropZone:e(this),url:job_manager_ajax_file_upload.ajax_url.toString().replace("%%endpoint%%","upload_file"),formData:{script:!0},change:function(){this.validation_errors=[]},add:function(t,r){var i=e(this),a=i.closest("form"),n=i.parent().find(".job-manager-uploaded-files"),o=[],l=!1,s=parseInt(i.data("file_limit"),10);if(void 0!==i.data("file_limit_left")?l=parseInt(i.data("file_limit_left"),10):void 0!==s&&(l=s-parseInt(n.children(".job-manager-uploaded-file").length,10),i.data("file_limit_left",l)),!1!==l&&l<=0){var d="Exceeded upload limit";i.data("file_limit_message")?d=i.data("file_limit_message"):"undefined"!=typeof job_manager_job_submission&&(d=job_manager_job_submission.i18n_over_upload_limit),d=d.replace("%d",s),o.push(d)}var u=e(this).data("file_types");if(u){var f=new RegExp("(.|/)("+u+")$","i");r.originalFiles[0].name.length&&!f.test(r.originalFiles[0].name)&&o.push(job_manager_ajax_file_upload.i18n_invalid_file_type+" "+u)}o.length>0?this.validation_errors=this.validation_errors.concat(o):(!1!==l&&i.data("file_limit_left",l-1),a.find(':input[type="submit"]').attr("disabled","disabled"),r.context=e('<progress value="" max="100"></progress>').appendTo(n),r.submit())},progress:function(e,t){var r=parseInt(t.loaded/t.total*100,10);t.context.val(r)},fail:function(t,r){var i=e(this),a=i.closest("form");r.errorThrown&&window.alert(r.errorThrown),r.context.remove(),a.find(':input[type="submit"]').removeAttr("disabled"),i.trigger("update_status")},done:function(t,r){var i=e(this),a=i.closest("form"),n=i.parent().find(".job-manager-uploaded-files"),o=i.attr("multiple")?1:0,l=["jpg","gif","png","jpeg","jpe"];r.context.remove(),void 0===r.result.success||r.result.success||this.validation_errors.push(r.result.data);var s=this;e.each(r.result.files,(function(t,r){var a;r.error?s.validation_errors.push(r.error):(e.inArray(r.extension,l)>=0?(a=e.parseHTML(job_manager_ajax_file_upload.js_field_html_img),e(a).find(".job-manager-uploaded-file-preview img").attr("src",r.url)):(a=e.parseHTML(job_manager_ajax_file_upload.js_field_html),e(a).find(".job-manager-uploaded-file-name code").text(r.name)),e(a).find(".input-text").val(r.url),e(a).find(".input-text").attr("name","current_"+i.attr("name")),o?n.append(a):n.html(a))})),this.validation_errors.length>0&&(this.validation_errors=this.validation_errors.filter((function(e,t,r){return r.indexOf(e)===t})),window.alert(this.validation_errors.join("\n"))),a.find(':input[type="submit"]').removeAttr("disabled"),i.trigger("update_status")}})}))}))}});