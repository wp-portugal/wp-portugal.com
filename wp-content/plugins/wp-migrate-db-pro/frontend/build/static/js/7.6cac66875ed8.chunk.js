(this.webpackJSONPwpmdb=this.webpackJSONPwpmdb||[]).push([[7],{719:function(e,t){},805:function(e,t,a){"use strict";a.r(t);var n,i,r,l,o=a(13),s=a(0),c=a.n(s),d=a(21),m=a.n(d),u=a(6),p=a(1),f=a(12),b=a.n(f),O=a(124),v=a.n(O),g=a(654),w=a.n(g),E=a(42),h=a(111),j=a(23),y=(a(608),a(34)),_=a(655),k=a(170),N=a(4),M=a(82),P=a(5),D=a(10),L=a(117),x=a(802),B=a(96),C=a.n(B),T=a(130),F=["svgRef"];function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var H=function(e){var t=e.svgRef,a=S(e,F);return c.a.createElement("svg",I({width:16,height:16,viewBox:"0 0 16 16",fill:"none",ref:t},a),n||(n=c.a.createElement("path",{d:"M13.4444 2.5H2.55556C1.69645 2.5 1 3.12183 1 3.88889V13.6111C1 14.3782 1.69645 15 2.55556 15H13.4444C14.3036 15 15 14.3782 15 13.6111V3.88889C15 3.12183 14.3036 2.5 13.4444 2.5Z",stroke:"#B3B3B3",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),i||(i=c.a.createElement("path",{d:"M11 1V4",stroke:"#B3B3B3",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),r||(r=c.a.createElement("path",{d:"M5 1V4",stroke:"#B3B3B3",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),l||(l=c.a.createElement("path",{d:"M1 8H15",stroke:"#B3B3B3",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},q=c.a.forwardRef(function(e,t){return c.a.createElement(H,I({svgRef:t},e))}),R=(a.p,Object(u.c)(function(e){return{media_files:e.media_files}},{updateMFDate:h.h})(function(e){var t=e.media_files.date,a=Object(s.useState)(!1),n=Object(D.a)(a,2),i=n[0],r=n[1],l=Object(s.useRef)(null),o=function(e){l.current.contains(e.target)||setTimeout(function(){r(!1)},50)};Object(s.useEffect)(function(){return i?document.addEventListener("mousedown",o):document.removeEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[i]);var d=Object(L.d)(i,null,{from:{opacity:0,marginTop:-25},enter:{opacity:1,marginTop:0},leave:{opacity:0,marginTop:-25}});return t&&""!==t||(t=Date.now()),c.a.createElement("div",{className:"datepicker-wrap",ref:l},c.a.createElement("div",null,c.a.createElement("div",{tabIndex:"0",onClick:function(){r(!0)},onKeyPress:function(e){"Enter"===e.key&&r(!0)},className:"media-date"},c.a.createElement(q,null),c.a.createElement("span",null,t?w()(t,"mmmm d yyyy @ hh:MM TT"):""))),d.map(function(a){var n=a.item,l=a.key,o=a.props;return n&&c.a.createElement(C.a,{active:i},c.a.createElement(L.a.div,{key:l,style:o,className:"datepicker-box"},c.a.createElement(x.a,{currentDate:t||Date.now(),tabIndex:"0",onChange:function(t){e.updateMFDate(t)},is12Hour:!0,isInvalidDate:function(e){var t=new Date;return e.setHours(0,0,0,0),t.setHours(0,0,0,0),e>=new Date}}),c.a.createElement("div",{className:"close-wrap"},c.a.createElement("button",{onClick:function(){r(!1)},className:"close-picker"},c.a.createElement(T.a,{"aria-hidden":!0}),c.a.createElement("span",{className:"screen-reader-text"},Object(p.a)("Close Date Picker","wp-migrate-db"))))))}))})),V=a(16),W=function(e){return"pull"===e?Object(p.a)("Pull","wp-migrate-db"):Object(p.a)("Push","wp-migrate-db")},A=function(e){var t=e.selected,a=e.labelledby;return c.a.createElement("div",null,c.a.createElement("input",{className:"media-option-radio",type:"radio",name:"media-option",checked:t,"aria-labelledby":a,readOnly:!0}))},J=function(e){var t=e.description,a=e.currentOption,n=e.intent,i=e.optionName,r=e.postDescription,l=e.className,o=e.label,s=Object(u.d)(),d="media-".concat(i);return c.a.createElement("div",{onClick:function(){!function(t){if(a===t)return null;s(e.setMediaOption(t))}(i)},className:"media-option ".concat(l||"")},c.a.createElement(A,{labelledby:d,selected:i===a}),c.a.createElement("div",null,c.a.createElement("strong",{id:d},Object(p.c)(o,W(n))),c.a.createElement("div",{className:"option-description"},t),c.a.createElement("div",null,c.a.createElement("b",null,r))),c.a.createElement("div",{className:"datepicker-container"},"new"===i&&"new"===a&&c.a.createElement(R,null)))};t.default=Object(u.c)(function(e){var t=e.profiles.profile_loading,a=Object(y.a)("panelsOpen",e),n=Object(N.d)("status",e),i=e.profiles.loaded_profile;return{isLoading:t,panel_info:e.panels,migration:e.migrations,current_migration:e.migrations.current_migration,addons:e.addons,media_files:e.media_files,status:n,panelsOpen:a,loaded_profile:i}},{toggleMediaFiles:h.g,setMediaOption:h.f,togglePanelsOpen:j.l,addOpenPanel:j.c,removeOpenPanel:j.h,updateMFExcludes:h.i,updateMFDate:h.h})(function(e){var t=e.media_files,a=e.panelsOpen,n=e.status,i=e.migration,r=i.current_migration,l=i.local_site,s=r.intent,d=r.twoMultisites,f=r.localSource,O=t.enabled,g=Object(u.d)(),j="undefined"!==typeof t.available&&!t.available,y=v()(n,{name:"MF_INVALID_DATE"}),N=v()(n,{name:"MF_OPTION_NULL"}),D=Object(u.e)(function(e){return e.multisite_tools}),L={all:Object(p.a)("%s all media files","wp-migrate-db"),new:Object(p.a)("%s media files by date","wp-migrate-db"),new_subsequent:Object(p.a)("%s new and updated media files","wp-migrate-db")},x={all:D.enabled?function(){var e=f&&"false"===l.is_multisite||!f&&"true"===l.is_multisite;return!d&&e?Object(p.a)("Copies all files to the uploads folder of the subsite","wp-migrate-db"):Object(p.a)("Copies all files from the uploads folder of the subsite","wp-migrate-db")}():Object(p.a)("Copies all files from the uploads folder","wp-migrate-db"),new:Object(p.a)("Copies new and modified files after a specific date","wp-migrate-db"),new_subsequent:Object(p.a)("Copies new and modified files since the last migration","wp-migrate-db")},B=a.includes("media_files"),C=!1;O&&!B&&(C=!0);var T=[];return C&&T.push("has-divider"),O&&T.push("enabled"),c.a.createElement("div",{className:"media-files"},c.a.createElement(E.a,{title:Object(p.a)("Media Files","wp-migrate-db"),className:T.join(" "),panelName:"media_files",disabled:j,enabled:O,panelSummary:c.a.createElement(function(e){return!m()(a,"media_files")&&t.option&&t.enabled?c.a.createElement(c.a.Fragment,null,Object(p.c)(L[t.option],W(s))):null},Object(o.a)({disabled:j,labels:L},e)),forceDivider:C,callback:function(t){return Object(k.b)(t,"media_files",B,O,j,e.addOpenPanel,e.removeOpenPanel,function(){return g(Object(P.a)(M.c))})},toggle:Object(h.g)(),hasInput:!0},c.a.createElement("div",{className:"media-files-inner-wrap"},c.a.createElement("div",{className:"media-files-options"},c.a.createElement(J,{description:x.all,label:L.all,currentOption:t.option,optionName:"all",intent:s,setMediaOption:h.f}),c.a.createElement(J,{description:x.new_subsequent,label:L.new_subsequent,postDescription:t.last_migration&&""!==t.last_migration?w()(t.last_migration,"(mmmm d yyyy @ hh:MM TT)"):"",currentOption:t.option,optionName:"new_subsequent",intent:s,setMediaOption:h.f}),c.a.createElement(J,{description:x.new,label:L.new,currentOption:t.option,optionName:"new",intent:s,setMediaOption:h.f,className:"option-wrap"})),c.a.createElement("div",{className:"media-files-excludes excludes-wrap"},c.a.createElement(_.a,Object(o.a)({},e,{excludes:t.excludes,excludesUpdater:e.updateMFExcludes,type:"media"})))),y&&c.a.createElement(V.a,{type:"danger"},b()(Object(p.a)('The date selected <a href="https://www.youtube.com/watch?v=G3AfIvJBcGo" target="_blank" rel="noopener noreferrer">is in the future</a>, please select a valid date.',"wp-migrate-db"))),N&&c.a.createElement(V.a,{type:"danger"},b()(Object(p.a)("Please select a media option above.","wp-migrate-db")))))})}}]);