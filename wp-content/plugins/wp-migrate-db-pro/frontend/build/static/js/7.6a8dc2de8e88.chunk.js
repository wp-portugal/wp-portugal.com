(this.webpackJSONPwpmdb=this.webpackJSONPwpmdb||[]).push([[7],{721:function(e,t){},809:function(e,t,a){"use strict";a.r(t);var n,i,r,l,o=a(13),c=a(0),s=a.n(c),d=a(20),m=a.n(d),p=a(6),u=a(1),f=a(12),b=a.n(f),O=a(124),v=a.n(O),g=a(660),E=a.n(g),w=a(43),j=a(83),h=a(22),k=(a(614),a(34)),y=a(661),_=a(170),N=a(4),M=a(62),P=a(5),D=a(225),L=a(10),x=a(117),B=a(807),C=a(98),T=a.n(C),F=a(130),I=["svgRef"];function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function H(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var R=function(e){var t=e.svgRef,a=H(e,I);return s.a.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"none",ref:t},a),n||(n=s.a.createElement("path",{d:"M13.4444 2.5H2.55556C1.69645 2.5 1 3.12183 1 3.88889V13.6111C1 14.3782 1.69645 15 2.55556 15H13.4444C14.3036 15 15 14.3782 15 13.6111V3.88889C15 3.12183 14.3036 2.5 13.4444 2.5Z",stroke:"#B3B3B3",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),i||(i=s.a.createElement("path",{d:"M11 1V4",stroke:"#B3B3B3",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),r||(r=s.a.createElement("path",{d:"M5 1V4",stroke:"#B3B3B3",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),l||(l=s.a.createElement("path",{d:"M1 8H15",stroke:"#B3B3B3",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},V=s.a.forwardRef(function(e,t){return s.a.createElement(R,S({svgRef:t},e))}),U=(a.p,Object(p.c)(function(e){return{media_files:e.media_files}},{updateMFDate:j.k})(function(e){var t=e.media_files.date,a=Object(c.useState)(!1),n=Object(L.a)(a,2),i=n[0],r=n[1],l=Object(c.useRef)(null),o=function(e){l.current.contains(e.target)||setTimeout(function(){r(!1)},50)};Object(c.useEffect)(function(){return i?document.addEventListener("mousedown",o):document.removeEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[i]);var d=Object(x.d)(i,null,{from:{opacity:0,marginTop:-25},enter:{opacity:1,marginTop:0},leave:{opacity:0,marginTop:-25}});return t&&""!==t||(t=Date.now()),s.a.createElement("div",{className:"datepicker-wrap",ref:l},s.a.createElement("div",null,s.a.createElement("div",{tabIndex:"0",onClick:function(){r(!0)},onKeyPress:function(e){"Enter"===e.key&&r(!0)},className:"media-date"},s.a.createElement(V,null),s.a.createElement("span",null,t?E()(t,"mmmm d yyyy @ hh:MM TT"):""))),d.map(function(a){var n=a.item,l=a.key,o=a.props;return n&&s.a.createElement(T.a,{active:i},s.a.createElement(x.a.div,{key:l,style:o,className:"datepicker-box"},s.a.createElement(B.a,{currentDate:t||Date.now(),tabIndex:"0",onChange:function(t){e.updateMFDate(t)},is12Hour:!0,isInvalidDate:function(e){var t=new Date;return e.setHours(0,0,0,0),t.setHours(0,0,0,0),e>=new Date}}),s.a.createElement("div",{className:"close-wrap"},s.a.createElement("button",{onClick:function(){r(!1)},className:"close-picker"},s.a.createElement(F.a,{"aria-hidden":!0}),s.a.createElement("span",{className:"screen-reader-text"},Object(u.a)("Close Date Picker","wp-migrate-db"))))))}))})),W={all:Object(u.a)("%s all media files","wp-migrate-db"),new:Object(u.a)("%s media files by date","wp-migrate-db"),new_subsequent:Object(u.a)("%s new and updated media files","wp-migrate-db")},A=function(e){return"pull"===e?Object(u.a)("Pull","wp-migrate-db"):Object(u.a)("Push","wp-migrate-db")},J=function(e){var t=e.selected,a=e.labelledby;return s.a.createElement("div",null,s.a.createElement("input",{className:"media-option-radio",type:"radio",name:"media-option",checked:t,"aria-labelledby":a}))},q=function(e){var t=e.description,a=e.currentOption,n=e.intent,i=e.optionName,r=e.postDescription,l=e.className,o=Object(p.d)(),c="media-".concat(i);return s.a.createElement("div",{onClick:function(){!function(t){if(a===t)return null;o(e.setMediaOption(t))}(i)},className:"media-option ".concat(l||"")},s.a.createElement(J,{labelledby:c,selected:i===a}),s.a.createElement("div",null,s.a.createElement("strong",{id:c},Object(u.c)(W[i],A(n))),s.a.createElement("div",{className:"option-description"},t),s.a.createElement("div",null,s.a.createElement("b",null,r))),s.a.createElement("div",{className:"datepicker-container"},"new"===i&&"new"===a&&s.a.createElement(U,null)))};t.default=Object(p.c)(function(e){var t=e.profiles.profile_loading,a=Object(k.a)("panelsOpen",e),n=Object(N.d)("status",e),i=e.profiles.loaded_profile,r=e.migrations.local_site.media_files_version;return{isLoading:t,panel_info:e.panels,migration:e.migrations,current_migration:e.migrations.current_migration,addons:e.addons,media_files:e.media_files,status:n,panelsOpen:a,loaded_profile:i,local_version:r}},{toggleMediaFiles:j.j,setMediaOption:j.i,togglePanelsOpen:h.l,addOpenPanel:h.c,removeOpenPanel:h.h,updateMFExcludes:j.l,updateMFDate:j.k})(function(e){var t=e.media_files,a=e.panelsOpen,n=e.status,i=e.local_version,r=e.migration.current_migration.intent,l=t.enabled,c=Object(p.d)(),d="undefined"!==typeof t.available&&!t.available,f=v()(n,{name:"MF_INVALID_DATE"}),O=v()(n,{name:"MF_OPTION_NULL"}),g=a.includes("media_files"),h=!1;l&&!g&&(h=!0);var k=[];return h&&k.push("has-divider"),l&&k.push("enabled"),s.a.createElement("div",{className:"media-files"},s.a.createElement(w.a,{title:Object(u.a)("Media Files","wp-migrate-db"),className:k.join(" "),panelName:"media_files",disabled:d,enabled:l,panelSummary:s.a.createElement(function(e){return d?s.a.createElement(D.a,{message:t.message,pluginSlug:"wp-migrate-db-pro-media-files",remoteUpgradable:t.remoteUpgradable,version:i,shortName:j.c}):!m()(a,"media_files")&&t.option&&t.enabled?s.a.createElement(s.a.Fragment,null,Object(u.c)(W[t.option],A(r))):null},Object(o.a)({disabled:d},e)),forceDivider:h,callback:function(t){return Object(_.b)(t,"media_files",g,l,d,e.addOpenPanel,e.removeOpenPanel,function(){return c(Object(P.a)(M.d))})},toggle:Object(j.j)(),hasInput:!0},s.a.createElement("div",{className:"media-files-inner-wrap"},s.a.createElement("div",{className:"media-files-options"},s.a.createElement(q,{description:Object(u.a)("Copies all files in the uploads folder","wp-migrate-db"),currentOption:t.option,optionName:"all",intent:r,setMediaOption:j.i}),s.a.createElement(q,{description:Object(u.c)(Object(u.a)("Copies new and modified files since the last migration","wp-migrate-db")),postDescription:t.last_migration&&""!==t.last_migration?E()(t.last_migration,"(mmmm d yyyy @ hh:MM TT)"):"",currentOption:t.option,optionName:"new_subsequent",intent:r,setMediaOption:j.i}),s.a.createElement(q,{description:Object(u.a)("Copies new and modified files after a specific date","wp-migrate-db"),currentOption:t.option,optionName:"new",intent:r,setMediaOption:j.i,className:"option-wrap"})),s.a.createElement("div",{className:"media-files-excludes excludes-wrap"},s.a.createElement(y.a,Object(o.a)({},e,{excludes:t.excludes,excludesUpdater:e.updateMFExcludes,type:"media"})))),f&&s.a.createElement("p",{className:"red error"},b()(Object(u.a)('The date selected <a href="https://www.youtube.com/watch?v=G3AfIvJBcGo" target="_blank" rel="noopener noreferrer">is in the future</a>, please select a valid date.',"wp-migrate-db"))),O&&s.a.createElement("p",{className:"red error"},b()(Object(u.a)("Please select a media option above.","wp-migrate-db")))))})}}]);